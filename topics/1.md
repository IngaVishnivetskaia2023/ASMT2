**“Favor object composition over class inheritance” the Gang of Four, “Design Patterns: Elements of Reusable Object Oriented Software”**

Композиция — фундаментальный концепт функционального программирования и объектно-ориентированного дизайна. 
Она основывается на принципе: мелкие, изолированные части системы или программы должны комбинироваться для создания более сложного поведения. 
Композиция позволяет избегать сложных взаимосвязей, повышает переиспользуемость кода и обеспечивает гибкость в дизайне.

### Function Composition
это техника объединения нескольких функций в одну, где выход одной функции становится входом другой. Это позволяет создавать цепочки обработки данных, упрощая код и улучшая его читаемость.
Функции используются как "строительные блоки", где одна функция передаёт результат следующей.
```
// Композиция функций: f(g(h(x)))
const composedFunction = (...args) => f(g(h(...args)));
```

### Примеры

#### Пример 1: Простая композиция функций
Предположим, нам нужно преобразовать строку:

- Убрать пробелы.
- Преобразовать строку в верхний регистр.
Композиция позволяет этого добиться:
```
const removeSpaces = (str) => str.replace(/\s+/g, '');
const getToUppercase = (str) => str.toUpperCase();

function compose (fn1, fn2) {
  return function (value) {
    return fn1(fn2(value))
  }
}

const updateString = compose(removeSpaces, getToUppercase);
console.log(updateString('t     es   t'));
```

- Логическая декомпозиция: Каждая функция выполняет небольшую задачу, и их легче понимать.
- Переиспользуемость: Каждая функция может использоваться независимо в других частях программы.
- Код становится читаемым: Композицию легко воспринимать как цепочку преобразований.


Библиотеки, такие как Lodash или Ramda, часто предоставляют инструменты для работы с функциями композиции:
```
import { compose } from 'ramda';

const removeSpaces = str => str.replace(/\s+/g, '');
const toUpperCase = str => str.toUpperCase();

const processString = compose(toUpperCase, removeSpaces);

console.log(processString(" functional programming  ")); // "FUNCTIONALPROGRAMMING"
```

### Object Composition
это вместо наследования (Inheritance) создание объектов путём объединения функций и данных без использования строгой иерархии. 
Она основывается на более гибком принципе "поведения через делегирование".

В отличие от наследования, где классы организованы в виде дерева (superclass → subclass), 
композиция объектов предполагает, что мы можем комбинировать "модули" или "ассеты" для создания нового поведения.

```
function canFly(obj) {
  obj.fly = function () {
    console.log(`${this.name} is flying!`);
  };
  return obj;
}

function canSwim(obj) {
  obj.swim = function () {
    console.log(`${this.name} is swimming!`);
  };
  return obj;
}

// Создаём базовый объект
const bird = { name: 'Penguin' };

// Добавляем способности
canFly(bird);
canSwim(bird);

bird.fly(); // Output: "Penguin is flying!"
bird.swim(); // Output: "Penguin is swimming!"
```

