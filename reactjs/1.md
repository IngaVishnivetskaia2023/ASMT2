## Understanding React Components and JSX

### What Are Components?
A key concept of React is the usage of so-called components. Components are reusable building blocks that are combined to compose the final user interface. 
For example, a basic website could be made up of a sidebar that includes navigation items and a main section that includes elements for adding and viewing tasks.

### Why Components?
No matter which web page you look at, they are all made up of building blocks like this. 
**It‚Äôs not a React-specific concept or idea.** Indeed, HTML itself ‚Äúthinks‚Äù in components if you take a closer look. 
You have elements like `<img>`, `<header>`, `<nav>`, etc., and you combine these elements to describe and structure your website content.

But React embraces this idea of breaking a web page into reusable building blocks because it is an approach that allows developers to work on small, manageable chunks of code. 
It‚Äôs easier and more maintainable than working on a single, huge HTML (or React code) file.

That‚Äôs why other libraries‚Äîboth frontend libraries like `React` or `Angular` as well as backend libraries and templating engines like `EJS` (Embedded JavaScript templates)‚Äîalso embrace components 
(though the names might differ, you also find ‚Äúpartials‚Äù or ‚Äúincludes‚Äù as common names).

### What Exactly Are Component Functions?
In React, **components are functions** (or classes, but as mentioned above, those aren‚Äôt relevant anymore).

A function is **a regular JavaScript construct, not a React-specific concept**. This is important to note. 
**React is a JavaScript library** and consequently uses JavaScript features (like functions); React is not a brand-new programming language.

When working with React, regular JavaScript functions can be used to encapsulate HTML (or, to be more precise, JSX) code and JavaScript logic that belongs to that markup code. 
However, it depends on the code you write in a function whether it qualifies to be treated as a React component or not. 
For example, in the code snippets above, the `handleSubmit` function is also a regular JavaScript function, but it‚Äôs not a React component. 
The following example shows another regular JavaScript function that doesn‚Äôt qualify as a React component:

```
function calculate(a, b) {
  return {sum: a + b};
};
```

Indeed, **a function will be treated as a component and can therefore be used like an HTML element in JSX code if it returns a renderable value (typically JSX code)**. 
This is very important. 
‚ùó You can only use a function as a React component in JSX code if it is a function that returns something that can be rendered by React. 
The returned value technically doesn‚Äôt have to be JSX code, but in most cases, it will be. 
You will see an example of non-JSX code being returned in Chapter 7, Portals and Refs.

When working with vanilla JavaScript, you, of course, typically call functions to execute them. With functional components, that‚Äôs different. 
**React calls these functions on your behalf**, and for that reason, as a developer, you use them like HTML elements inside of this JSX code.

When using React, you don‚Äôt create brand-new HTML elements that the browser would be able to display and handle. 
Instead, **you create components that only work inside the React environment**. 
Before they reach the browser, they **have been evaluated by React and ‚Äútranslated‚Äù into DOM-manipulating JavaScript instructions** (like `document.append(‚Ä¶)`).

But keep in mind that all this JSX code is a feature that‚Äôs not part of the JavaScript language itself. 
It‚Äôs basically syntactical sugar (i.e., a simplification regarding the code syntax) provided by the React library and the project setup you‚Äôre using to write React code. 
Therefore, elements like `<div>`, **when used in JSX code**, also **aren‚Äôt normal HTML elements** because **you don‚Äôt write HTML code**. 
It might look like that, but it‚Äôs inside a `.jsx` file and **it‚Äôs not HTML markup**. Instead, it‚Äôs this **special JSX code**. It is important to keep this in mind.

Accordingly, these `<div>` and `<h2>` elements you see in all these examples are also **just React components in the end**. But they are not components built by you, but instead provided by React (or, to be precise, by ReactDOM).

When working with React, you consequently always end up with these primitives‚Äîthese built-in component functions that are later translated to browser instructions that generate and append or remove normal DOM elements. **The idea behind building custom components is to group these elements together such that you end up with reusable building blocks** that can be used to build the overall UI. 
But, in the end, this UI is made up of regular HTML elements.

üììNote ‚ùó Depending on your level of frontend web development knowledge, you might have heard about a web feature called **Web Components**. 
The idea behind this feature is that you can indeed build brand-new HTML elements with vanilla JavaScript. As mentioned, React **does not pick up this feature**; 
you don‚Äôt build new custom HTML elements with React.


### JSX vs HTML vs Vanilla JavaScript
As mentioned above, React projects typically contain lots of JSX code. Most custom components will return JSX code snippets. You can see this in all the examples shared thus far, and you will see it in basically every React project you explore, no matter whether you are using React for the browser or other platforms like react-native.

But what exactly is this JSX code? How is it different from HTML? And how is it related to vanilla JavaScript?

‚ùó JSX is a feature that‚Äôs not part of vanilla JavaScript. What can be confusing, though, is that **it‚Äôs also not directly part of the React library**.

Instead, **JSX is syntactical sugar that is provided by the build workflow that‚Äôs part of the overall React project**. 
When you start the development web server via `npm run dev` or build the React app for production (i.e., for deployment) via `npm run build`, you kick off a process that transforms this JSX code back to regular JavaScript instructions. As a developer, you don‚Äôt see those final instructions but React, the library, actually receives and evaluates them.

So, what does the JSX code get transformed to?

In modern React projects, it gets transformed to rather complex, unintuitive code that looks something like this:
```
function Ld() {
  return St.jsx('p', { children: 'Welcome to this book!' });
}
```

Of course, this code is not very developer-friendly. It‚Äôs not the kind of code you would write. 
Instead, it‚Äôs the code produced by Vite (i.e., by the underlying build process) for the browser to execute.

But you could, in theory, write code like this instead of using JSX‚Äîif, for some reason, you wanted to avoid writing JSX code. 
React has a built-in method you can use instead of JSX: you can use React‚Äôs `createElement(‚Ä¶)` method.

Here‚Äôs a concrete example, first in JSX:
```
function Greeting() {
  return <p>Hello World!</p>;
};
```

Instead of using JSX, you could also write this component code like this:
```
function Greeting() {
  return React.createElement('p', {}, 'Hello World!');
};
```

`createElement()` is a method built into the React library. 
It instructs React to create a paragraph element with `Hello World!` as child content (i.e., as inner, nested content). 
This paragraph element is then created internally first (via a concept called the `virtual DOM`, which will be discussed later in the book, in Chapter 10, Behind the Scenes of React and Optimization Opportunities). Thereafter, once all elements for all JSX elements have been created, **the virtual DOM is translated into real DOM-manipulating instructions** that are executed by the browser.


