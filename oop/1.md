### Инкапсуляция

Инкапсуляция — это скрытие информации внутри определённого пространства имён (контейнера), чтобы ограничить прямое взаимодействие с этой информацией. 
Мы можем создать один объект или класс, состоящий из различных переменных и функций. 
Инкапсуляция предотвращает или ограничивает (например, разрешает чтение, но запрещает запись) взаимодействие с некоторыми из этих переменных или функций.

Инкапсуляция в программировании, в частности в JavaScript, — это техника, позволяющая структурировать код, прятать детали реализации 
и предоставлять ограниченный интерфейс к данным или функциональности объекта или модуля.

#### Инкапсуляция помогает:

- **Изолировать/скрывать детали реализации:** Пользователь объекта или класса не должен знать, как он устроен внутри, только как с ним взаимодействовать через предоставленный интерфейс.
- **Контролировать доступ:** Мы можем разрешить доступ только к определённым свойствам и методам, ограничив возможность напрямую изменять внутреннее состояние объекта вне контекста, где это не уместно.
- **Упростить поддержку кода:** Если детали реализации меняются, интерфейс взаимодействия можно оставить неизменным. Это защищает от поломки остальной части системы.

#### Как инкапсуляция реализуется в JavaScript?
В JavaScript, понятия "пространство имён" и "контейнер" можно реализовать несколькими способами:

- Старый способ — использовать функцию-замыкание для создания "приватных полей".
В этом случае `count` остаётся доступным только внутри замыкания, а внешний код может взаимодействовать с ним только через публичные методы `increment` и `getCount`.

```
function Counter() {
  let count = 0; // Приватная переменная

  return {
    increment: function () {
      count++;
      return count;
    },
    getCount: function () {
      return count; // Прямого доступа к "count" нет, только через getCount()
    },
  };
}

const myCounter = Counter();
console.log(myCounter.getCount()); // 0
myCounter.increment();
console.log(myCounter.getCount()); // 1
console.log(myCounter.count); // undefined (нет прямого доступа)
```

- Начиная с ES2021: приватные свойства и методы

Есть новшество в языке JavaScript, которое почти добавлено в стандарт: оно добавляет поддержку приватных свойств и методов.
Приватные свойства и методы должны начинаться с `#`. Они доступны только внутри класса.
На уровне языка `#` является специальным символом, который означает, что поле приватное. Мы не можем получить к нему доступ извне или из наследуемых классов.
Приватные поля не конфликтуют с публичными.

```
class Auth {
  #password = '';

  constructor (name, password) {
    this.name = name;
    this.#password = password
  }

  getPasswordHint () {
    console.log(Array(this.#password.length))
    return this.#password[0] + 'x'.repeat(this.#password.length);
  }
}

const instance = new Auth('masha', 'passiiii');
console.log(instance.getPasswordHint()); // pxxxxxxxx
```
